webpackJsonp([1],{"/KFX":function(e,t,n){"use strict";function a(e){n("w1qL")}var i=n("AHJT"),s=n("ombG"),o=n("VU/8"),r=a,c=o(i.a,s.a,!1,r,"data-v-19a25de6",null);t.a=c.exports},"2YDg":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-link",{staticClass:"router-link",attrs:{exact:"","active-class":"router-link-active",to:{name:"Home"}}},[e._v("Home")]),e._v(" "),n("router-link",{staticClass:"router-link",attrs:{exact:"","active-class":"router-link-active",to:{name:"Search"}}},[e._v("Search Files")]),e._v(" "),n("router-link",{staticClass:"router-link",attrs:{exact:"","active-class":"router-link-active",to:{name:"About"}}},[e._v("About")]),e._v(" "),n("button",{ref:"authorizeButton",staticStyle:{display:"none"},attrs:{id:"authorize-button"}},[e._v("Log In")]),e._v(" "),n("button",{ref:"signoutButton",staticStyle:{display:"none"},attrs:{id:"signout-button"}},[e._v("Log Out")]),e._v(" "),n("router-view",{attrs:{google:e.google,signedIn:e.signedIn,userInfo:e.userInfo,chartProperties:e.chartProperties},on:{changeSignInStatus:function(t){e.updateSignInStatus(t)},scaffoldAPI:function(t){e.scaffoldAPI(t)},getUserInfo:function(t){e.getUserInfo(t)},updateSpaceChart:function(t){e.updateSpaceChart(t)}}})],1)},i=[],s={render:a,staticRenderFns:i};t.a=s},"7Otq":function(e,t,n){e.exports=n.p+"static/img/logo.1c918cd.png"},AHJT:function(e,t,n){"use strict";t.a={props:["google","signedIn","userInfo"],watch:{signedIn:function(e,t){this.$refs.searchSubmit.onclick=this.searchFiles}},name:"Files",data:function(){return{message:"This is the files page.",searchText:null,searchDataSource:[]}},methods:{searchFiles:function(){this.listFiles(this.searchText)},listFiles:function(e){var t=this;this.google.client.drive.files.list({pageSize:50,folderId:"root",fields:"nextPageToken, files(id, name, mimeType, trashed)",orderBy:"name",q:"name contains '"+e+"'"}).then(function(e){var n=e.result.files;if(n.forEach(function(e){e.name='<a target="_blank" href="https://drive.google.com/open?id='+e.id+'">'+e.name+"</a>"}),t.searchDataSource=n,n&&n.length>0)for(var a=0;a<n.length;a++){n[a]}else console.log("No files found")})}}}},Fs8J:function(e,t,n){"use strict";t.a={name:"Home",data:function(){return{msg:'Welcome! Please click on the "Search Files" link to get started.'}}}},GEkf:function(e,t,n){"use strict";t.a={name:"AppHeader"}},"K+iy":function(e,t){},M93x:function(e,t,n){"use strict";function a(e){n("gRtr")}var i=n("xJD8"),s=n("2YDg"),o=n("VU/8"),r=a,c=o(i.a,s.a,!1,r,null,null);t.a=c.exports},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("7+uW"),i=n("M93x"),s=n("YaEn"),o=n("VJFb"),r=n("nb/C"),c=(n.n(r),n("aE9Y")),u=(n.n(c),n("rDh8")),l=(n.n(u),n("RRtc"));n.n(l);a.a.config.productionTip=!1,a.a.use(l.KendoGridInstaller),a.a.component(u.KendoChart.name,u.KendoChart),a.a.component(l.KendoGrid.name,l.KendoGrid),new a.a({data:{google:null,signedIn:!1,userInfo:null,chartProperties:{title:{text:"Drive Space Used vs. Space Available"},legend:{position:"bottom"},seriesDefaults:{labels:{visible:!0,background:"transparent",template:"#= category#: \n #= value # GB",center:"50%"}},series:[{type:"pie",data:[0,0]}],valueAxis:{line:{visible:!1}},tooltip:{visible:!0,format:"{0} GB"},theme:"Material"}},methods:{updateSignInStatus:function(e){this.signedIn=e,!!e||(this.userInfo=null)},scaffoldAPI:function(e){this.google=e},getUserInfo:function(e){this.userInfo=e},updateSpaceChart:function(e){this.chartProperties.series[0].data=[{category:e[0].type,value:parseFloat(e[0].amount/1024/1024/1024).toFixed(2)},{category:e[1].type,value:parseFloat(e[1].amount/1024/1024/1024).toFixed(2)}]}},el:"#app",router:s.a,template:'<div><AppHeader></AppHeader><App v-bind:google="google" v-bind:chartProperties="chartProperties" v-bind:signedIn="signedIn" v-bind:userInfo="userInfo" v-on:changeSignInStatus="updateSignInStatus($event)" v-on:scaffoldAPI="scaffoldAPI($event)" v-on:getUserInfo="getUserInfo($event)" v-on:updateSpaceChart="updateSpaceChart($event)"/></div>',components:{App:i.a,AppHeader:o.a}})},VJFb:function(e,t,n){"use strict";function a(e){n("kYkg")}var i=n("GEkf"),s=n("m/WF"),o=n("VU/8"),r=a,c=o(i.a,s.a,!1,r,"data-v-714664d5",null);t.a=c.exports},YaEn:function(e,t,n){"use strict";var a=n("7+uW"),i=n("/ocq"),s=n("lO7g"),o=n("c27y"),r=n("/KFX");a.a.use(i.a),t.a=new i.a({routes:[{path:"/",name:"Home",component:s.a},{path:"/Search",name:"Search",component:r.a},{path:"/About",name:"About",component:o.a}]})},Zs8U:function(e,t,n){"use strict";t.a={props:["google","signedIn","userInfo","chartProperties"],watch:{userInfo:function(e,t){console.log("Chart Properties changed in About.vue!"),console.log(this.$refs),this.$emit("updateCharts",!0)}},name:"About",data:function(){return{message:"This is the about page."}}}},aE9Y:function(e,t){},c27y:function(e,t,n){"use strict";function a(e){n("d4ii")}var i=n("Zs8U"),s=n("tfJy"),o=n("VU/8"),r=a,c=o(i.a,s.a,!1,r,"data-v-6453e46c",null);t.a=c.exports},d4ii:function(e,t){},gRtr:function(e,t){},kYkg:function(e,t){},lO7g:function(e,t,n){"use strict";function a(e){n("K+iy")}var i=n("Fs8J"),s=n("vycG"),o=n("VU/8"),r=a,c=o(i.a,s.a,!1,r,"data-v-280efba7",null);t.a=c.exports},"m/WF":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"hello"},[a("h1",[a("img",{attrs:{src:n("7Otq")}})])])}],s={render:a,staticRenderFns:i};t.a=s},ombG:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"search"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.searchText,expression:"searchText"}],ref:"searchInput",attrs:{type:"text",disabled:!1===e.signedIn},domProps:{value:e.searchText},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.searchFiles(t)},input:function(t){t.target.composing||(e.searchText=t.target.value)}}}),e._v(" "),n("input",{ref:"searchSubmit",attrs:{type:"submit",value:"Search"}}),e._v(" "),n("br"),e.signedIn?e._e():n("span",{ref:"loginMessage"},[e._v("Please log in to search your drive.")]),e._v(" "),n("br"),e._v(" "),e.searchText?n("kendo-grid",{attrs:{"data-source":e.searchDataSource,sortable:!0}},[n("kendo-grid-column",{attrs:{encoded:!1,field:"name",title:"File Name (Click to Download)"}})],1):e._e()],1)},i=[],s={render:a,staticRenderFns:i};t.a=s},tfJy:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.userInfo?n("div",[n("div",[e._v("Welcome back, "+e._s(e.userInfo?e.userInfo.fullName:"")+"!\n    "),n("kendo-chart",{ref:"spaceChart",attrs:{title:e.chartProperties.title,legend:e.chartProperties.legend,seriesDefaults:e.chartProperties.seriesDefaults,series:e.chartProperties.series,tooltip:e.chartProperties.tooltip}})],1)]):e._e()},i=[],s={render:a,staticRenderFns:i};t.a=s},vycG:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hello"},[n("h1",[e._v(e._s(e.msg))])])},i=[],s={render:a,staticRenderFns:i};t.a=s},w1qL:function(e,t){},xJD8:function(e,t,n){"use strict";t.a={props:["google","signedIn","userInfo","chartProperties"],name:"app",methods:{updateSigninStatus:function(e){if(e){this.$emit("changeSignInStatus",e),this.$emit("scaffoldAPI",gapi);var t=this;gapi.client.drive.about.get({fields:"user, storageQuota"}).execute(function(e){t.$emit("getUserInfo",{email:e.user.emailAddress,fullName:e.user.displayName,storageLimit:e.storageQuota.limit,spaceUsed:e.storageQuota.usageInDrive}),t.$emit("updateSpaceChart",[{type:"Space Used",amount:parseInt(e.storageQuota.usageInDrive)},{type:"Space Available",amount:parseInt(e.storageQuota.limit-e.storageQuota.usageInDrive)}])});this.$refs.authorizeButton.style.display="none",this.$refs.signoutButton.style.display="inline-block"}else this.$emit("changeSignInStatus",e),this.$refs.authorizeButton.style.display="inline-block",this.$refs.signoutButton.style.display="none"},handleAuthClick:function(e){gapi.auth2.getAuthInstance().signIn()},handleSignoutClick:function(e){gapi.auth2.getAuthInstance().signOut()},handleClientLoad:function(){var e=this;gapi.load("client:auth2",function(){gapi.client.init({apiKey:"AIzaSyCMn8SUN0i26iSvz-MYpK7vvyMyMAMs67A",clientId:"955493671398-tfqdpdjqih875eucq609c1vnc28bpfui.apps.googleusercontent.com",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/drive/v3/rest"],scope:"https://www.googleapis.com/auth/drive.metadata.readonly"}).then(function(){gapi.auth2.getAuthInstance().isSignedIn.listen(function(t){e.updateSigninStatus(t)});var t=gapi.auth2.getAuthInstance().isSignedIn.get();!function(){e.updateSigninStatus(t)}(),e.$refs.authorizeButton.onclick=e.handleAuthClick,e.$refs.signoutButton.onclick=e.handleSignoutClick})})}},created:function(){var e=this,t=document.createElement("script");t.setAttribute("src","https://apis.google.com/js/api.js"),document.head.appendChild(t);var n=setInterval(function(){"undefined"!=typeof gapi&&(clearInterval(n),e.handleClientLoad())},100)}}}},["NHnr"]);
//# sourceMappingURL=app.b1fb6135273381d6533a.js.map